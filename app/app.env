#!/bin/bash
# vim: set filetype=sh :

# This script sets up the environment for Wordpress.

###################### Run Time Parameters #####################
# These values take effect each time Wordpress starts.

# Wordpress site url and admin credentials
# (admin user must match admin email from original installation)
export app_url="${APP_URL:-http://www.example.com}"
export admin_user="${APP_ADMIN_USER:-app}"
export admin_pass="${APP_ADMIN_PASSWORD:-app}"

# Database settings
export db_name="${APP_DB_NAME:-app}"
export db_host="${APP_DB_HOST:-app-db}"
export db_user="${APP_DB_USER:-app}"
export db_pass="${APP_DB_PASSWORD:-app}"

# PHP user
# This value must match the value in /etc/php5/php5-fpm.conf
# (used for file permissions and to run wp-cli commands)
export php_user="${PHP_USER:-www-data}"
export php_home="${PHP_HOME:-/var/www/app}"

export admin_email="${APP_ADMIN_EMAIL:-app@example.com}"
export version="${APP_VERSION:-latest}"
export locale="${APP_LOCALE:-en_US}"
export title="${APP_TITLE:-app}"

# where to serve php files from
export php_home=${DOCUMENT_ROOT:-/var/www/php}

# backup filename
date=`date '+%Y%m%d%M%S'`
export backup=${BACKUP_FILE:-/export/backup-${date}.tar.gz}
